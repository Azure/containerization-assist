{
  "ratcheting_strategy": {
    "description": "Gradual improvement approach for code quality",
    "principles": [
      "Prevent regression from baseline",
      "Only check new/modified code in PRs",
      "Allow tolerance for minor variations",
      "Focus on gradual improvement over time"
    ]
  },
  "linting": {
    "description": "Lint error budgets: Allow CI to pass while tracking quality debt. Current baseline: 183 issues",
    "ratcheting_enabled": true,
    "ratcheting_config": {
      "improvement_threshold": 10,
      "buffer_size": 5,
      "auto_apply": false,
      "description": "When issues drop 10+ below budget, suggest new budget = current + 5 buffer"
    },
    "error_budgets": {
      "mcp": {
        "errors": 120,
        "warnings": 60
      },
      "core": {
        "errors": 80,
        "warnings": 40
      },
      "combined": {
        "errors": 200,
        "warnings": 120
      }
    },
    "new_code_only": true,
    "baseline_branch": "main"
  },
  "complexity": {
    "thresholds": {
      "fail": 25,
      "warn": 20,
      "target": 15
    },
    "check_new_code_only": true,
    "ratcheting_enabled": true,
    "current_baseline": {
      "over_30": 0,
      "over_25": 4,
      "over_20": 4,
      "over_15": 13,
      "over_10": 53
    },
    "component_budgets": {
      "pkg/mcp/domain": {
        "over_15": 5,
        "over_20": 2,
        "over_25": 1
      },
      "pkg/mcp/application": {
        "over_15": 3,
        "over_20": 1,
        "over_25": 0
      },
      "pkg/mcp/infrastructure": {
        "over_15": 8,
        "over_20": 3,
        "over_25": 2
      }
    },
    "known_complex_functions": [
      "loadFromEnv",
      "TestBoltStore_ConcurrentOperations",
      "(*Client).SampleStream",
      "DeployToKubernetes",
      "(*ScanStep).Execute",
      "cloneRepository"
    ]
  },
  "formatting": {
    "enforce": "warn",
    "tools": ["gofmt -s", "goimports"],
    "auto_fix_available": true
  },
  "technical_debt": {
    "todo_limit_per_pr": 10,
    "warn_threshold": 5,
    "track_total": true
  },
  "test_coverage": {
    "overall_target": 50,
    "overall_minimum": 20,
    "domain_target": 70,
    "domain_minimum": 30,
    "infrastructure_target": 40,
    "infrastructure_minimum": 20,
    "application_target": 60,
    "application_minimum": 30,
    "regression_tolerance": 5,
    "fail_below_minimum": true,
    "component_budgets": {
      "pkg/mcp/domain/workflow": 40,
      "pkg/mcp/domain/progress": 30,
      "pkg/mcp/application/transport": 50,
      "pkg/mcp/infrastructure/sampling": 40,
      "pkg/mcp/infrastructure/session": 50,
      "pkg/mcp/infrastructure/steps": 30
    }
  },
  "error_handling": {
    "adoption_target": 60,
    "minimum_budget": 30,
    "regression_tolerance": 5
  },
  "quality_gates": {
    "interface_validation": {
      "enforce": true,
      "allow_warnings": true
    },
    "dependency_hygiene": {
      "enforce": false,
      "track_only": true
    }
  },
  "architecture_quality": {
    "adapter_elimination": {
      "enforce": true,
      "adapter_files_allowed": 0,
      "wrapper_files_allowed": 0,
      "wrapper_exceptions": ["docker_operation.go"]
    },
    "import_cycles": {
      "enforce": true,
      "cycles_allowed": 0
    },
    "interface_unification": {
      "enforce": false,
      "track_only": true,
      "target_interfaces": 1,
      "current_interfaces": 31
    },
    "build_performance": {
      "target_seconds": 2,
      "warn_threshold": 3,
      "fail_threshold": 5
    },
    "lines_of_code": {
      "track_trends": true,
      "target_reduction_percent": 40
    },
    "large_files": {
      "budget": 10,
      "threshold_lines": 800
    }
  }
}
