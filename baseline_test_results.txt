?   	github.com/Azure/container-kit	[no test files]
?   	github.com/Azure/container-kit/cmd	[no test files]
ok  	github.com/Azure/container-kit/cmd/mcp-server	0.034s
?   	github.com/Azure/container-kit/cmd/tool-generator	[no test files]
ok  	github.com/Azure/container-kit/pkg/ai	0.069s
ok  	github.com/Azure/container-kit/pkg/clients	0.093s
ok  	github.com/Azure/container-kit/pkg/core/analysis	0.040s
ok  	github.com/Azure/container-kit/pkg/core/docker	0.766s
ok  	github.com/Azure/container-kit/pkg/core/git	0.017s
ok  	github.com/Azure/container-kit/pkg/core/kubernetes	0.023s
ok  	github.com/Azure/container-kit/pkg/core/security	0.309s
?   	github.com/Azure/container-kit/pkg/deps	[no test files]
?   	github.com/Azure/container-kit/pkg/docker	[no test files]
?   	github.com/Azure/container-kit/pkg/filetree	[no test files]
ok  	github.com/Azure/container-kit/pkg/genericutils	0.015s
?   	github.com/Azure/container-kit/pkg/k8s	[no test files]
?   	github.com/Azure/container-kit/pkg/kind	[no test files]
?   	github.com/Azure/container-kit/pkg/logger	[no test files]
?   	github.com/Azure/container-kit/pkg/mcp	[no test files]
ok  	github.com/Azure/container-kit/pkg/mcp/cmd/mcp-server	0.020s
?   	github.com/Azure/container-kit/pkg/mcp/core	[no test files]
ok  	github.com/Azure/container-kit/pkg/mcp/errors	0.004s
?   	github.com/Azure/container-kit/pkg/mcp/internal	[no test files]
ok  	github.com/Azure/container-kit/pkg/mcp/internal/analyze	0.058s
ok  	github.com/Azure/container-kit/pkg/mcp/internal/build	0.173s
ok  	github.com/Azure/container-kit/pkg/mcp/internal/config	0.005s
?   	github.com/Azure/container-kit/pkg/mcp/internal/context	[no test files]
ok  	github.com/Azure/container-kit/pkg/mcp/internal/conversation	0.002s
ok  	github.com/Azure/container-kit/pkg/mcp/internal/core	5.743s
?   	github.com/Azure/container-kit/pkg/mcp/internal/customizer	[no test files]
ok  	github.com/Azure/container-kit/pkg/mcp/internal/deploy	0.047s
?   	github.com/Azure/container-kit/pkg/mcp/internal/errors	[no test files]
ok  	github.com/Azure/container-kit/pkg/mcp/internal/observability	25.180s
ok  	github.com/Azure/container-kit/pkg/mcp/internal/orchestration	0.076s
?   	github.com/Azure/container-kit/pkg/mcp/internal/orchestration/testutil	[no test files]
ok  	github.com/Azure/container-kit/pkg/mcp/internal/pipeline	0.038s
?   	github.com/Azure/container-kit/pkg/mcp/internal/profiling/testutil	[no test files]
?   	github.com/Azure/container-kit/pkg/mcp/internal/registry	[no test files]
ok  	github.com/Azure/container-kit/pkg/mcp/internal/retry	12.586s
ok  	github.com/Azure/container-kit/pkg/mcp/internal/runtime	0.031s
ok  	github.com/Azure/container-kit/pkg/mcp/internal/runtime/conversation	2.113s
?   	github.com/Azure/container-kit/pkg/mcp/internal/scan	[no test files]
ok  	github.com/Azure/container-kit/pkg/mcp/internal/server	0.049s
ok  	github.com/Azure/container-kit/pkg/mcp/internal/session	0.133s
?   	github.com/Azure/container-kit/pkg/mcp/internal/state	[no test files]
?   	github.com/Azure/container-kit/pkg/mcp/internal/testutil	[no test files]
ok  	github.com/Azure/container-kit/pkg/mcp/internal/tools	0.063s
ok  	github.com/Azure/container-kit/pkg/mcp/internal/transport	0.277s
ok  	github.com/Azure/container-kit/pkg/mcp/internal/types	0.014s
ok  	github.com/Azure/container-kit/pkg/mcp/internal/utils	0.239s
ok  	github.com/Azure/container-kit/pkg/mcp/internal/workflow	0.008s
?   	github.com/Azure/container-kit/pkg/mcp/server	[no test files]
ok  	github.com/Azure/container-kit/pkg/mcp/types	0.034s
ok  	github.com/Azure/container-kit/pkg/mcp/utils	0.024s
ok  	github.com/Azure/container-kit/pkg/pipeline	0.018s
ok  	github.com/Azure/container-kit/pkg/pipeline/databasedetectionstage	0.031s
ok  	github.com/Azure/container-kit/pkg/pipeline/dockerstage	0.010s
ok  	github.com/Azure/container-kit/pkg/pipeline/manifeststage	0.013s
ok  	github.com/Azure/container-kit/pkg/pipeline/repoanalysisstage	0.009s
?   	github.com/Azure/container-kit/pkg/runner	[no test files]
?   	github.com/Azure/container-kit/pkg/templating	[no test files]
?   	github.com/Azure/container-kit/pkg/utils	[no test files]
?   	github.com/Azure/container-kit/templates	[no test files]
{"level":"info","component":"mcp-server","component":"session_manager","loaded_count":0,"time":"2025-06-29T16:50:44-04:00","message":"Loaded existing sessions"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"docker","time":"2025-06-29T16:50:44-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"kubernetes","time":"2025-06-29T16:50:44-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"registry","time":"2025-06-29T16:50:44-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"git","time":"2025-06-29T16:50:44-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","time":"2025-06-29T16:50:44-04:00","message":"Created default circuit breakers"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:50:44-04:00","message":"OpenTelemetry disabled"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:50:44-04:00","message":"Starting server shutdown"}
{"level":"info","component":"mcp-server","component":"job_manager","time":"2025-06-29T16:50:44-04:00","message":"Job manager stopped"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:50:44-04:00","message":"Server shutdown completed"}
{"level":"warn","backup_path":"/tmp/TestMCPServerIntegration2311012077/002/sessions.db.locked.1751230249","time":"2025-06-29T16:50:49-04:00","message":"Moved locked database file"}
{"level":"info","component":"mcp-server","component":"session_manager","loaded_count":0,"time":"2025-06-29T16:50:49-04:00","message":"Loaded existing sessions"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"docker","time":"2025-06-29T16:50:49-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"kubernetes","time":"2025-06-29T16:50:49-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"registry","time":"2025-06-29T16:50:49-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"git","time":"2025-06-29T16:50:49-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","time":"2025-06-29T16:50:49-04:00","message":"Created default circuit breakers"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:50:49-04:00","message":"OpenTelemetry disabled"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:50:49-04:00","message":"Starting server shutdown"}
{"level":"info","component":"mcp-server","component":"job_manager","time":"2025-06-29T16:50:49-04:00","message":"Job manager stopped"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:50:49-04:00","message":"Server shutdown completed"}
{"level":"warn","backup_path":"/tmp/TestMCPServerIntegration2311012077/002/sessions.db.locked.1751230254","time":"2025-06-29T16:50:54-04:00","message":"Moved locked database file"}
{"level":"info","component":"mcp-server","component":"session_manager","loaded_count":0,"time":"2025-06-29T16:50:54-04:00","message":"Loaded existing sessions"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"docker","time":"2025-06-29T16:50:54-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"kubernetes","time":"2025-06-29T16:50:54-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"registry","time":"2025-06-29T16:50:54-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"git","time":"2025-06-29T16:50:54-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","time":"2025-06-29T16:50:54-04:00","message":"Created default circuit breakers"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:50:54-04:00","message":"OpenTelemetry disabled"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:50:54-04:00","message":"Starting server shutdown"}
{"level":"info","component":"mcp-server","component":"job_manager","time":"2025-06-29T16:50:54-04:00","message":"Job manager stopped"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:50:54-04:00","message":"Server shutdown completed"}
{"level":"error","component":"mcp-server","component":"session_manager","error":"mkdir /nonexistent: permission denied","path":"/nonexistent/invalid/path","time":"2025-06-29T16:50:54-04:00","message":"Failed to create workspace directory"}
{"level":"error","component":"mcp-server","error":"failed to create workspace directory /nonexistent/invalid/path: mkdir /nonexistent: permission denied","time":"2025-06-29T16:50:54-04:00","message":"Failed to initialize session manager"}
{"level":"warn","backup_path":"/tmp/TestMCPServerIntegration2311012077/002/sessions.db.locked.1751230259","time":"2025-06-29T16:50:59-04:00","message":"Moved locked database file"}
{"level":"info","component":"mcp-server","component":"session_manager","loaded_count":0,"time":"2025-06-29T16:50:59-04:00","message":"Loaded existing sessions"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"docker","time":"2025-06-29T16:50:59-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"kubernetes","time":"2025-06-29T16:50:59-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"registry","time":"2025-06-29T16:50:59-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"git","time":"2025-06-29T16:50:59-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","time":"2025-06-29T16:50:59-04:00","message":"Created default circuit breakers"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:50:59-04:00","message":"OpenTelemetry disabled"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:50:59-04:00","message":"Starting server shutdown"}
{"level":"info","component":"mcp-server","component":"job_manager","time":"2025-06-29T16:50:59-04:00","message":"Job manager stopped"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:50:59-04:00","message":"Server shutdown completed"}
{"level":"warn","backup_path":"/tmp/TestMCPServerIntegration2311012077/002/sessions.db.locked.1751230264","time":"2025-06-29T16:51:04-04:00","message":"Moved locked database file"}
{"level":"info","component":"mcp-server","component":"session_manager","loaded_count":0,"time":"2025-06-29T16:51:04-04:00","message":"Loaded existing sessions"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"docker","time":"2025-06-29T16:51:04-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"kubernetes","time":"2025-06-29T16:51:04-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"registry","time":"2025-06-29T16:51:04-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"git","time":"2025-06-29T16:51:04-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","time":"2025-06-29T16:51:04-04:00","message":"Created default circuit breakers"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:51:04-04:00","message":"OpenTelemetry disabled"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:51:04-04:00","message":"Starting server shutdown"}
{"level":"info","component":"mcp-server","component":"job_manager","time":"2025-06-29T16:51:04-04:00","message":"Job manager stopped"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:51:04-04:00","message":"Server shutdown completed"}
{"level":"warn","backup_path":"/tmp/TestMCPServerIntegration2311012077/002/sessions.db.locked.1751230269","time":"2025-06-29T16:51:09-04:00","message":"Moved locked database file"}
{"level":"info","component":"mcp-server","component":"session_manager","loaded_count":0,"time":"2025-06-29T16:51:09-04:00","message":"Loaded existing sessions"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"docker","time":"2025-06-29T16:51:09-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"kubernetes","time":"2025-06-29T16:51:09-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"registry","time":"2025-06-29T16:51:09-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"git","time":"2025-06-29T16:51:09-04:00","message":"Registered circuit breaker"}
{"level":"info","component":"mcp-server","component":"circuit_breaker","time":"2025-06-29T16:51:09-04:00","message":"Created default circuit breakers"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:51:09-04:00","message":"OpenTelemetry disabled"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:51:09-04:00","message":"Starting server shutdown"}
{"level":"info","component":"mcp-server","component":"job_manager","time":"2025-06-29T16:51:09-04:00","message":"Job manager stopped"}
{"level":"info","component":"mcp-server","time":"2025-06-29T16:51:09-04:00","message":"Server shutdown completed"}
--- FAIL: TestMCPWorkflowIntegrationSuite (7.36s)
    mcp_workflow_integration_test.go:105: MCP server binary built at: /tmp/mcp-workflow-test-3063464133/mcp-server
    --- FAIL: TestMCPWorkflowIntegrationSuite/TestMCPErrorHandling (2.00s)
        mcp_workflow_integration_test.go:311: MCP Server: [90m2025-06-29T16:51:10-04:00[0m [32mINF[0m [1mStarting Container Kit MCP Server[0m [36mtransport=[0mstdio [36mversion=[0m"dev (commit: unknown, built: unknown)" [36mworkspace_dir=[0m/home/tng/.container-kit/workspace
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"session_manager","loaded_count":0,"time":"2025-06-29T16:51:10-04:00","message":"Loaded existing sessions"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"docker","time":"2025-06-29T16:51:10-04:00","message":"Registered circuit breaker"}
            {"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"kubernetes","time":"2025-06-29T16:51:10-04:00","message":"Registered circuit breaker"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"registry","time":"2025-06-29T16:51:10-04:00","message":"Registered circuit breaker"}
            {"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"git","time":"2025-06-29T16:51:10-04:00","message":"Registered circuit breaker"}
            {"level":"info","component":"mcp-server","component":"circuit_breaker","time":"2025-06-29T16:51:10-04:00","message":"Created default circuit breakers"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:10-04:00","message":"OpenTelemetry disabled"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","transport":"stdio","workspace_dir":"/home/tng/.container-kit/workspace","max_sessions":100,"time":"2025-06-29T16:51:10-04:00","message":"Starting Container Kit MCP Server"}
            {"level":"info","component":"mcp-server","component":"session_manager","time":"2025-06-29T16:51:10-04:00","message":"Started session cleanup routine"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"warn","component":"mcp-server","component":"tool_orchestrator","component":"no_reflect_orchestrator","time":"2025-06-29T16:51:10-04:00","message":"Tool factory creation disabled to prevent import cycles - use SetToolFactory directly"}
            {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:10-04:00","message":"Tool factory set on no-reflect dispatcher"}
            {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:10-04:00","message":"Pipeline operations set on tool orchestrator"}
            {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:10-04:00","message":"Registering core tools"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"server_status","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"list_sessions","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"delete_session","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:10-04:00","message":"Core tools registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:10-04:00","message":"Registering atomic tools"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"scan_secrets","category":"security","type":"AtomicScanSecretsTool","time":"2025-06-29T16:51:10-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"scan_secrets","time":"2025-06-29T16:51:10-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"generate_manifests","category":"deployment","type":"AtomicGenerateManifestsTool","time":"2025-06-29T16:51:10-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"generate_manifests","time":"2025-06-29T16:51:10-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"build_image","category":"docker","type":"AtomicBuildImageTool","time":"2025-06-29T16:51:10-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"build_image","time":"2025-06-29T16:51:10-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"validate_dockerfile","category":"validation","type":"AtomicValidateDockerfileTool","time":"2025-06-29T16:51:10-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"validate_dockerfile","time":"2025-06-29T16:51:10-04:00","message":"Registered atomic tool successfully"}
            {"level":"error","component":"mcp-server","error":"tool push_image does not implement core.Tool interface","tool":"push_image","time":"2025-06-29T16:51:10-04:00","message":"Failed to register atomic tool"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"validate_deployment","category":"validation","type":"AtomicValidateDeploymentTool","time":"2025-06-29T16:51:10-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"validate_deployment","time":"2025-06-29T16:51:10-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"analyze_repository","category":"analysis","type":"AtomicAnalyzeRepositoryTool","time":"2025-06-29T16:51:10-04:00","message":"Registered tool"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","tool":"analyze_repository","time":"2025-06-29T16:51:10-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"generate_dockerfile","category":"containerization","type":"AtomicGenerateDockerfileTool","time":"2025-06-29T16:51:10-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"generate_dockerfile","time":"2025-06-29T16:51:10-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"deploy_kubernetes","category":"kubernetes","type":"AtomicDeployKubernetesTool","time":"2025-06-29T16:51:10-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"deploy_kubernetes","time":"2025-06-29T16:51:10-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"pull_image","category":"docker","type":"AtomicPullImageTool","time":"2025-06-29T16:51:10-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"pull_image","time":"2025-06-29T16:51:10-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"tag_image","category":"docker","type":"AtomicTagImageTool","time":"2025-06-29T16:51:10-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"tag_image","time":"2025-06-29T16:51:10-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"error","component":"mcp-server","error":"tool scan_image_security does not implement core.Tool interface","tool":"scan_image_security","time":"2025-06-29T16:51:10-04:00","message":"Failed to register atomic tool"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"analyze_repository","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"generate_dockerfile","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"build_image","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"pull_image","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"tag_image","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"push_image","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"validate_deployment","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"generate_manifests","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"validate_dockerfile","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"scan_image_security","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"scan_secrets","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:10-04:00","message":"Atomic tools registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:10-04:00","message":"Registering utility tools"}
            {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"get_job_status","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","resource":"logs/{level}","time":"2025-06-29T16:51:10-04:00","message":"Resource registered successfully"}
            {"level":"info","component":"mcp-server","component":"tool_registrar","resource":"logs","time":"2025-06-29T16:51:10-04:00","message":"Resource registered successfully"}
            {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"add_session_label","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"remove_session_label","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"update_session_labels","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"list_session_labels","time":"2025-06-29T16:51:10-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:10-04:00","message":"Utility tools registered successfully"}
            {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:10-04:00","message":"All tools registered successfully with standardized patterns"}
            time=2025-06-29T16:51:10.401-04:00 level=INFO msg="Starting gomcp server with all tools registered"
        mcp_workflow_integration_test.go:591: 
            	Error Trace:	/home/tng/workspace/d/test/integration/mcp_workflow_integration_test.go:591
            	Error:      	Received unexpected error:
            	            	exec: StdinPipe after process started
            	Test:       	TestMCPWorkflowIntegrationSuite/TestMCPErrorHandling
    --- FAIL: TestMCPWorkflowIntegrationSuite/TestMCPToolCommunication (2.00s)
        mcp_workflow_integration_test.go:311: MCP Server: [90m2025-06-29T16:51:12-04:00[0m [32mINF[0m [1mStarting Container Kit MCP Server[0m [36mtransport=[0mstdio [36mversion=[0m"dev (commit: unknown, built: unknown)" [36mworkspace_dir=[0m/home/tng/.container-kit/workspace
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"session_manager","loaded_count":0,"time":"2025-06-29T16:51:12-04:00","message":"Loaded existing sessions"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"docker","time":"2025-06-29T16:51:12-04:00","message":"Registered circuit breaker"}
            {"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"kubernetes","time":"2025-06-29T16:51:12-04:00","message":"Registered circuit breaker"}
            {"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"registry","time":"2025-06-29T16:51:12-04:00","message":"Registered circuit breaker"}
            {"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"git","time":"2025-06-29T16:51:12-04:00","message":"Registered circuit breaker"}
            {"level":"info","component":"mcp-server","component":"circuit_breaker","time":"2025-06-29T16:51:12-04:00","message":"Created default circuit breakers"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:12-04:00","message":"OpenTelemetry disabled"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","transport":"stdio","workspace_dir":"/home/tng/.container-kit/workspace","max_sessions":100,"time":"2025-06-29T16:51:12-04:00","message":"Starting Container Kit MCP Server"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"session_manager","time":"2025-06-29T16:51:12-04:00","message":"Started session cleanup routine"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"warn","component":"mcp-server","component":"tool_orchestrator","component":"no_reflect_orchestrator","time":"2025-06-29T16:51:12-04:00","message":"Tool factory creation disabled to prevent import cycles - use SetToolFactory directly"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:12-04:00","message":"Tool factory set on no-reflect dispatcher"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:12-04:00","message":"Pipeline operations set on tool orchestrator"}
            {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:12-04:00","message":"Registering core tools"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"server_status","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"list_sessions","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"delete_session","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:12-04:00","message":"Core tools registered successfully"}
            {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:12-04:00","message":"Registering atomic tools"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"generate_dockerfile","category":"containerization","type":"AtomicGenerateDockerfileTool","time":"2025-06-29T16:51:12-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"generate_dockerfile","time":"2025-06-29T16:51:12-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"deploy_kubernetes","category":"kubernetes","type":"AtomicDeployKubernetesTool","time":"2025-06-29T16:51:12-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"deploy_kubernetes","time":"2025-06-29T16:51:12-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"tag_image","category":"docker","type":"AtomicTagImageTool","time":"2025-06-29T16:51:12-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"tag_image","time":"2025-06-29T16:51:12-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"scan_secrets","category":"security","type":"AtomicScanSecretsTool","time":"2025-06-29T16:51:12-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"scan_secrets","time":"2025-06-29T16:51:12-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"generate_manifests","category":"deployment","type":"AtomicGenerateManifestsTool","time":"2025-06-29T16:51:12-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"generate_manifests","time":"2025-06-29T16:51:12-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"error","component":"mcp-server","error":"tool push_image does not implement core.Tool interface","tool":"push_image","time":"2025-06-29T16:51:12-04:00","message":"Failed to register atomic tool"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"validate_deployment","category":"validation","type":"AtomicValidateDeploymentTool","time":"2025-06-29T16:51:12-04:00","message":"Registered tool"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","tool":"validate_deployment","time":"2025-06-29T16:51:12-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"analyze_repository","category":"analysis","type":"AtomicAnalyzeRepositoryTool","time":"2025-06-29T16:51:12-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"analyze_repository","time":"2025-06-29T16:51:12-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"validate_dockerfile","category":"validation","type":"AtomicValidateDockerfileTool","time":"2025-06-29T16:51:12-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"validate_dockerfile","time":"2025-06-29T16:51:12-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"pull_image","category":"docker","type":"AtomicPullImageTool","time":"2025-06-29T16:51:12-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"pull_image","time":"2025-06-29T16:51:12-04:00","message":"Registered atomic tool successfully"}
            {"level":"error","component":"mcp-server","error":"tool scan_image_security does not implement core.Tool interface","tool":"scan_image_security","time":"2025-06-29T16:51:12-04:00","message":"Failed to register atomic tool"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"build_image","category":"docker","type":"AtomicBuildImageTool","time":"2025-06-29T16:51:12-04:00","message":"Registered tool"}
            {"level":"info","component":"mcp-server","tool":"build_image","time":"2025-06-29T16:51:12-04:00","message":"Registered atomic tool successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"analyze_repository","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"generate_dockerfile","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"build_image","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"pull_image","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"tag_image","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"push_image","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"validate_deployment","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"generate_manifests","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"validate_dockerfile","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"scan_image_security","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"scan_secrets","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:12-04:00","message":"Atomic tools registered successfully"}
            {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:12-04:00","message":"Registering utility tools"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"get_job_status","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","resource":"logs/{level}","time":"2025-06-29T16:51:12-04:00","message":"Resource registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","resource":"logs","time":"2025-06-29T16:51:12-04:00","message":"Resource registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"add_session_label","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
            {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"remove_session_label","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"update_session_labels","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"list_session_labels","time":"2025-06-29T16:51:12-04:00","message":"Simple tool registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:12-04:00","message":"Utility tools registered successfully"}
        mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:12-04:00","message":"All tools registered successfully with standardized patterns"}
        mcp_workflow_integration_test.go:311: MCP Server: time=2025-06-29T16:51:12.416-04:00 level=INFO msg="Starting gomcp server with all tools registered"
        mcp_workflow_integration_test.go:508: 
            	Error Trace:	/home/tng/workspace/d/test/integration/mcp_workflow_integration_test.go:508
            	Error:      	Received unexpected error:
            	            	exec: StdinPipe after process started
            	Test:       	TestMCPWorkflowIntegrationSuite/TestMCPToolCommunication
    --- FAIL: TestMCPWorkflowIntegrationSuite/TestMCPWorkflowIntegration (2.01s)
        --- FAIL: TestMCPWorkflowIntegrationSuite/TestMCPWorkflowIntegration/Workflow_simple-go-service (2.00s)
            mcp_workflow_integration_test.go:311: MCP Server: [90m2025-06-29T16:51:16-04:00[0m [32mINF[0m [1mStarting Container Kit MCP Server[0m [36mtransport=[0mstdio [36mversion=[0m"dev (commit: unknown, built: unknown)" [36mworkspace_dir=[0m/home/tng/.container-kit/workspace
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"session_manager","loaded_count":0,"time":"2025-06-29T16:51:16-04:00","message":"Loaded existing sessions"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"docker","time":"2025-06-29T16:51:16-04:00","message":"Registered circuit breaker"}
                {"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"kubernetes","time":"2025-06-29T16:51:16-04:00","message":"Registered circuit breaker"}
                {"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"registry","time":"2025-06-29T16:51:16-04:00","message":"Registered circuit breaker"}
                {"level":"info","component":"mcp-server","component":"circuit_breaker","circuit":"git","time":"2025-06-29T16:51:16-04:00","message":"Registered circuit breaker"}
                {"level":"info","component":"mcp-server","component":"circuit_breaker","time":"2025-06-29T16:51:16-04:00","message":"Created default circuit breakers"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:16-04:00","message":"OpenTelemetry disabled"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","transport":"stdio","workspace_dir":"/home/tng/.container-kit/workspace","max_sessions":100,"time":"2025-06-29T16:51:16-04:00","message":"Starting Container Kit MCP Server"}
                {"level":"info","component":"mcp-server","component":"session_manager","time":"2025-06-29T16:51:16-04:00","message":"Started session cleanup routine"}
                {"level":"warn","component":"mcp-server","component":"tool_orchestrator","component":"no_reflect_orchestrator","time":"2025-06-29T16:51:16-04:00","message":"Tool factory creation disabled to prevent import cycles - use SetToolFactory directly"}
                {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:16-04:00","message":"Tool factory set on no-reflect dispatcher"}
                {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:16-04:00","message":"Pipeline operations set on tool orchestrator"}
                {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:16-04:00","message":"Registering core tools"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"server_status","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"list_sessions","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"delete_session","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:16-04:00","message":"Core tools registered successfully"}
                {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:16-04:00","message":"Registering atomic tools"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"analyze_repository","category":"analysis","type":"AtomicAnalyzeRepositoryTool","time":"2025-06-29T16:51:16-04:00","message":"Registered tool"}
                {"level":"info","component":"mcp-server","tool":"analyze_repository","time":"2025-06-29T16:51:16-04:00","message":"Registered atomic tool successfully"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"build_image","category":"docker","type":"AtomicBuildImageTool","time":"2025-06-29T16:51:16-04:00","message":"Registered tool"}
                {"level":"info","component":"mcp-server","tool":"build_image","time":"2025-06-29T16:51:16-04:00","message":"Registered atomic tool successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"validate_dockerfile","category":"validation","type":"AtomicValidateDockerfileTool","time":"2025-06-29T16:51:16-04:00","message":"Registered tool"}
                {"level":"info","component":"mcp-server","tool":"validate_dockerfile","time":"2025-06-29T16:51:16-04:00","message":"Registered atomic tool successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"tag_image","category":"docker","type":"AtomicTagImageTool","time":"2025-06-29T16:51:16-04:00","message":"Registered tool
            mcp_workflow_integration_test.go:311: MCP Server: "}
                {"level":"info","component":"mcp-server","tool":"tag_image","time":"2025-06-29T16:51:16-04:00","message":"Registered atomic tool successfully"}
                {"level":"error","component":"mcp-server","error":"tool scan_image_security does not implement core.Tool interface","tool":"scan_image_security","time":"2025-06-29T16:51:16-04:00","message":"Failed to register atomic tool"}
                {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"scan_secrets","category":"security","type":"AtomicScanSecretsTool","time":"2025-06-29T16:51:16-04:00","message":"Registered tool"}
                {"level":"info","component":"mcp-server","tool":"scan_secrets","time":"2025-06-29T16:51:16-04:00","message":"Registered atomic tool successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"generate_manifests","category":"deployment","type":"AtomicGenerateManifestsTool","time":"2025-06-29T16:51:16-04:00","message":"Registered tool"}
                {"level":"
            mcp_workflow_integration_test.go:311: MCP Server: info","component":"mcp-server","tool":"generate_manifests","time":"2025-06-29T16:51:16-04:00","message":"Registered atomic tool successfully"}
                {"level":"error","component":"mcp-server","error":"tool push_image does not implement core.Tool interface","tool":"push_image","time":"2025-06-29T16:51:16-04:00","message":"Failed to register atomic tool"}
                {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"generate_dockerfile","category":"containerization","type":"AtomicGenerateDockerfileTool","time":"2025-06-29T16:51:16-04:00","message":"Registered tool"}
                {"level":"info","component":"mcp-server","tool":"generate_dockerfile","time":"2025-06-29T16:51:16-04:00","message":"Registered atomic tool successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"deploy_kubernetes","category":"kubernetes","type":"AtomicDeployKubernetesTool","time":"2025-06-29T16:51:16-04:00","message":"Registered tool"}
                {"lev
            mcp_workflow_integration_test.go:311: MCP Server: el":"info","component":"mcp-server","tool":"deploy_kubernetes","time":"2025-06-29T16:51:16-04:00","message":"Registered atomic tool successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"pull_image","category":"docker","type":"AtomicPullImageTool","time":"2025-06-29T16:51:16-04:00","message":"Registered tool"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","tool":"pull_image","time":"2025-06-29T16:51:16-04:00","message":"Registered atomic tool successfully"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registry","component":"tool_registry","tool_name":"validate_deployment","category":"validation","type":"AtomicValidateDeploymentTool","time":"2025-06-29T16:51:16-04:00","message":"Registered tool"}
                {"level":"info","component":"mcp-server","tool":"validate_deployment","time":"2025-06-29T16:51:16-04:00","message":"Registered atomic tool successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"analyze_repository","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"generate_dockerfile","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"build_image","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"pull_image","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"tag_image","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"push_image","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"validate_deployment","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"generate_manifests","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"validate_dockerfile","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"scan_image_security","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"scan_secrets","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:16-04:00","message":"Atomic tools registered successfully"}
                {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:16-04:00","message":"Registering utility tools"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"get_job_status","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","resource":"logs/{level}","time":"2025-06-29T16:51:16-04:00","message":"Resource registered successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","resource":"logs","time":"2025-06-29T16:51:16-04:00","message":"Resource registered successfully"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"add_session_label","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"remove_session_label","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
            mcp_workflow_integration_test.go:311: MCP Server: {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"update_session_labels","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","component":"tool_registrar","tool":"list_session_labels","time":"2025-06-29T16:51:16-04:00","message":"Simple tool registered successfully"}
                {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:16-04:00","message":"Utility tools registered successfully"}
                {"level":"info","component":"mcp-server","time":"2025-06-29T16:51:16-04:00","message":"All tools registered successfully with standardized patterns"}
            mcp_workflow_integration_test.go:311: MCP Server: time=2025-06-29T16:51:16.011-04:00 level=INFO msg="Starting gomcp server with all tools registered"
            mcp_workflow_integration_test.go:322: 
                	Error Trace:	/home/tng/workspace/d/test/integration/mcp_workflow_integration_test.go:322
                	            				/home/tng/workspace/d/test/integration/mcp_workflow_integration_test.go:284
                	            				/home/tng/workspace/d/test/integration/mcp_workflow_integration_test.go:266
                	            				/home/tng/go/pkg/mod/github.com/stretchr/testify@v1.10.0/suite/suite.go:115
                	Error:      	Received unexpected error:
                	            	exec: StdinPipe after process started
                	Test:       	TestMCPWorkflowIntegrationSuite/TestMCPWorkflowIntegration/Workflow_simple-go-service
FAIL
FAIL	github.com/Azure/container-kit/test/integration	35.805s
?   	github.com/Azure/container-kit/tools/build-enforcement	[no test files]
?   	github.com/Azure/container-kit/tools/check-boundaries	[no test files]
?   	github.com/Azure/container-kit/tools/check-hygiene	[no test files]
?   	github.com/Azure/container-kit/tools/measure-performance	[no test files]
?   	github.com/Azure/container-kit/tools/migrate	[no test files]
?   	github.com/Azure/container-kit/tools/update-imports	[no test files]
?   	github.com/Azure/container-kit/tools/validate-interfaces	[no test files]
FAIL
