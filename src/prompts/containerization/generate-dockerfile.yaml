metadata:
  name: generate-dockerfile
  category: containerization
  description: Generate a Dockerfile for a project based on analysis
  version: "1.0"
  parameters:
    - name: language
      type: string
      required: true
      description: Programming language of the application
    - name: repoSummary
      type: string
      required: true
      description: Repository summary (2-4 sentences)
    - name: framework
      type: string
      required: false
      description: Framework used by the application
    - name: ports
      type: string
      required: false
      description: Comma-separated port numbers
    - name: baseImage
      type: string
      required: false
      description: Suggested base image
    - name: requirements
      type: string
      required: false
      description: Dependency information

template: |
  Generate a production-ready Dockerfile for a {{language}} project.

  Project Details:
  - Language: {{language}}
  {{#framework}}
  - Framework: {{framework}}
  {{/framework}}
  {{#ports}}
  - Ports: {{ports}}
  {{/ports}}
  {{#baseImage}}
  - Suggested Base Image: {{baseImage}}
  {{/baseImage}}
  {{#requirements}}
  - Dependencies: {{requirements}}
  {{/requirements}}

  Repository Summary:
  {{repoSummary}}

  Requirements:
  1. Use multi-stage builds when appropriate
  2. Include security best practices
  3. Minimize image size
  4. Include proper health checks
  5. Set appropriate working directory and user
  6. Copy files efficiently
  7. Expose necessary ports

  CRITICAL: Return ONLY the raw Dockerfile content. Do not include:
  - Explanatory text before or after the Dockerfile
  - Markdown code blocks or formatting
  - Comments about best practices
  - Installation instructions
  - Any text that is not part of the Dockerfile itself

  Start your response directly with the FROM instruction and end with the last Dockerfile instruction. No additional text.
